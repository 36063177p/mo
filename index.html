<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ูุธุงู ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</title>
    
    <!-- Material Design Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    
    <!-- Font Awesome (Fallback) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Material Design Styles -->
    <link rel="stylesheet" href="styles-material.css">
    <link rel="stylesheet" href="ui-overrides-material.css">
    
    <!-- UX/UI Improvements -->
    <link rel="stylesheet" href="ux-improvements.css">
    
    <!-- PWA manifest and theme color -->
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#2196F3">
    
    <!-- iOS support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ุฅุฏุงุฑุฉ ุงูุทูุจุงุช">
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512x512.png">
    <!-- Supabase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- ุฅุถุงูุฉ ููุชุจุฉ SheetJS ูุจู script app.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- ุฅุถุงูุฉ ููุชุจุฉ Chart.js ูุจู script app.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- ุฅุถุงูุฉ ููุชุจุฉ html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- Firebase (Compat) ูุฅุนุฏุงุฏ FCM ุนุจุฑ Service Worker) -->
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-messaging-compat.js"></script>
<script defer data-domain="magenta-shelby-54.tiiny.site" src="https://analytics.tiiny.site/js/plausible.js"></script></head>
<body>
    <!-- ูุณู ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="loginSection" class="auth-section">
        <h2>ุชุณุฌูู ุงูุฏุฎูู</h2>
        <form id="loginForm">
            <input type="email" id="loginEmail" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
            <input type="password" id="loginPassword" placeholder="ูููุฉ ุงููุฑูุฑ" required>
            <button type="submit">ุฏุฎูู</button>
        </form>
    </div>

    <!-- ุดุฑูุท ุนููู ููููุจุงูู -->
    <div class="mobile-header">
        <button class="hamburger-menu" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        <h1 class="page-title">ููุญุฉ ุงูุชุญูู</h1>
        <div class="header-actions">
            <button id="notificationsBtn" class="notifications-btn">
                <i class="fas fa-bell"></i>
                <span id="notificationsBadge" class="notifications-badge">0</span>
            </button>
            <!-- ุฒุฑ ุฅุฑุณุงู ุฅุดุนุงุฑ ุชุฌุฑูุจู -->
            <button id="sendTestNotificationBtn" class="notifications-btn" title="ุฅุฑุณุงู ุฅุดุนุงุฑ ุชุฌุฑูุจู">
                <i class="fas fa-paper-plane"></i>
            </button>
            <!-- ุฒุฑ ุชุซุจูุช ุงูุชุทุจูู ูู PWA -->
            <button id="installAppBtn" class="notifications-btn" title="ุชุซุจูุช ุงูุชุทุจูู" style="display:none">
                <i class="fas fa-download"></i>
            </button>
        </div>
    </div>

    <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>ุงููุงุฆูุฉ</h3>
            <button class="close-sidebar" onclick="closeSidebar()">
                <i class="fas fa-times"></i>
            </button>
            </div>
        <nav class="sidebar-nav">
            <button class="sidebar-btn active" data-tab="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                ููุญุฉ ุงููุนูููุงุช
            </button>
            <button class="sidebar-btn" data-tab="shipments">
                <i class="fas fa-ship"></i>
                ุงูุดุญูุงุช
            </button>
        </nav>
        </div>
        
    <!-- ุทุจูุฉ ุงูุฅุฎูุงุก ููุดุฑูุท ุงูุฌุงูุจู -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>



    <!-- ูุณู ุงูุดุญูุงุช -->
    <div id="shipmentsSection" class="tab-content hidden">
        <!-- Header Section -->
        <div class="shipments-header">
            <h1 class="shipments-title">ุงูุดุญูุงุช</h1>
            <button id="addShipmentBtn" class="add-shipment-btn">
                <i class="fas fa-plus"></i>
            </button>
        </div>
        
        <!-- Search Bar -->
        <div class="shipments-search-container">
            <div class="search-bar">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="shipmentSearch" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู...">
            </div>
        </div>
        
        <!-- Filter Tabs -->
        <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">ุงููู</button>
            <button class="filter-tab" data-filter="upcoming">ูุงุฏูุฉ</button>
            <button class="filter-tab" data-filter="delayed">ูุชุฃุฎุฑุฉ</button>
            <button class="filter-tab" data-filter="action-required">ุชุญุชุงุฌ ุฅุฌุฑุงุก</button>
        </div>
        
        <!-- Hidden Advanced Filters -->
        <div class="advanced-filters" id="advancedFilters" style="display: none;">
                <div class="filters-row">
                    <select id="filterStatus">
                        <option value="all">ุฌููุน ุงูุญุงูุงุช</option>
                        <option value="ุชู ุชุฃููุฏ ุงูุทูุจ">ุชู ุชุฃููุฏ ุงูุทูุจ</option>
                        <option value="ุชู ุงูุดุญู">ุชู ุงูุดุญู</option>
                        <option value="ูู ุงูุชุธุงุฑ ุชุฎููุต ุงูุฌูุฑูู">ูู ุงูุชุธุงุฑ ุชุฎููุต ุงูุฌูุฑูู</option>
                        <option value="ุชู ุงูุงุณุชูุงู">ุชู ุงูุงุณุชูุงู</option>
                    </select>
                    
                    <select id="filterCustoms">
                        <option value="all">ุฌููุน ุงูุฅูุฑุงุฌุงุช</option>
                        <option value="released">ุชู ุงูุฅูุฑุงุฌ</option>
                        <option value="pending">ูู ุงูุชุธุงุฑ ุงูุฅูุฑุงุฌ</option>
                    </select>
                    
                    <select id="filterPayment">
                        <option value="all">ุฌููุน ุงูุฏูุนุงุช</option>
                        <option value="completed">ุชู ุงูุฏูุน</option>
                        <option value="pending">ูู ุงูุชุธุงุฑ ุงูุฏูุน</option>
                    </select>
                    
                    <button id="resetFilters" class="reset-filters-btn" title="ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูููุงุชุฑ">
                        <i class="fas fa-undo"></i> ุฅุนุงุฏุฉ ุชุนููู
                    </button>
                </div>
                
            <!-- Date Filter -->
                <div class="date-filter">
                    <input type="date" id="startDate" placeholder="ูู ุชุงุฑูุฎ">
                    <input type="date" id="endDate" placeholder="ุฅูู ุชุงุฑูุฎ">
                </div>
            </div>
        
        <!-- Shipments Cards Container -->
        <div class="shipments-cards-container" id="shipmentsCardsContainer">
            <!-- Cards will be dynamically generated here -->
            <div class="empty-state">
                <i class="fas fa-box-open empty-state-icon"></i>
                <h3 class="empty-state-title">ูุง ุชูุฌุฏ ุดุญูุงุช</h3>
                <p class="empty-state-description">ุงุจุฏุฃ ุจุฅุถุงูุฉ ุดุญูุฉ ุฌุฏูุฏุฉ ุฃู ุฌุฑุจ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ</p>
                <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                    <button class="primary-btn" onclick="testLoadShipments()">ุชุญููู ุจูุงูุงุช ุชุฌุฑูุจูุฉ</button>
                    <button class="secondary-btn" onclick="testAdvancedNotifications()">ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช</button>
                </div>
            </div>
        </div>
        
        <!-- Hidden Table for Data Processing -->
        <div class="table-container" style="display: none;">
            <table id="shipmentsTable">
                <thead>
                    <tr>
                        <th>ุฑูู ุงูุดุญูุฉ</th>
                        <th>ุงูููุฑุฏ</th>
                        <th>ููุน ุงูุจุถุงุนุฉ</th>
                        <th>ุงููููุฉ</th>
                        <th>ุงููุญุฏุฉ</th>
                        <th>ุดุฑูุฉ ุงูุดุญู</th>
                        <th>ูููุง ุงููุตูู</th>
                        <th>ุจูุฏ ุงูููุดุฃ</th>
                        <th>ููุนุฏ ุงููุตูู</th>
                        <th>ุดุฑูุฉ ุงูุชุฎููุต</th>
                        <th>ุญุงูุฉ ุงูุฅูุฑุงุฌ</th>
                        <th>ูููุฉ ุงูุญุงููุฉ</th>
                        <th>ุฑูู ุงูุญุงููุฉ</th>
                        <th>ุฑูู BL</th>
                        <th>ุญุงูุฉ ุงูุฏูุน</th>
                        <th>ููุนุฏ ุงูุฏูุน</th>
                        <th>ููุนุฏ ุทูุจ ุงูุฅูุฑุงุฌ</th>
                        <th>ูุฒู ุงูุญุงููุฉ</th>
                        <th>ุงูุญุงูุฉ ุงูุนุงูุฉ</th>
                        <th>ุงููุณุชูุฏุงุช</th>
                        <th>ุงูุฅุฌุฑุงุกุงุช</th>
                    </tr>
                </thead>
                <tbody id="shipmentsTableBody"></tbody>
            </table>
    </div>

        <!-- ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงูุดุญูุฉ -->
        <div id="shipmentModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="shipmentModalTitle">ุฅุถุงูุฉ ุดุญูุฉ ุฌุฏูุฏุฉ</h2>
                <form id="shipmentForm">
                    <!-- 1. ุงุณู ูุฑูุฏ ููู ุดุญูุฉ -->
                    <div class="full-width">
                        <label for="shipmentNumber">ุฑูู ุงูุดุญูุฉ *</label>
                        <input type="text" id="shipmentNumber" name="shipmentNumber" required readonly>
        </div>
        
                    <!-- 2. ุงุณู ุงูููุฑุฏ -->
                    <div>
                        <label for="supplierName">ุงูููุฑุฏ *</label>
                        <input type="text" id="supplierName" name="supplierName" required>
    </div>

                    <!-- 3. ููุน ุงูุจุถุงุนุฉ -->
                    <div>
                        <label for="goodsType">ููุน ุงูุจุถุงุนุฉ *</label>
                        <input type="text" id="goodsType" name="goodsType" required>
        </div>
        
                    <!-- 4. ุงููููุฉ -->
                    <div>
                        <label for="quantity">ุงููููุฉ *</label>
                        <input type="number" id="quantity" name="quantity" required min="0" step="0.01">
    </div>

                    <!-- 5. ุงููุญุฏุฉ -->
                    <div>
                        <label for="unit">ุงููุญุฏุฉ *</label>
                        <select id="unit" name="unit" required>
                            <option value="">ุงุฎุชุฑ ุงููุญุฏุฉ</option>
                            <option value="ูุทุนุฉ">ูุทุนุฉ</option>
                            <option value="ููููุบุฑุงู">ููููุบุฑุงู</option>
                            <option value="ุทู">ุทู</option>
                            <option value="ูุชุฑ">ูุชุฑ</option>
                            <option value="ูุชุฑ ูุฑุจุน">ูุชุฑ ูุฑุจุน</option>
                            <option value="ูุชุฑ ููุนุจ">ูุชุฑ ููุนุจ</option>
                            <option value="ูุชุฑ">ูุชุฑ</option>
                            <option value="ุตูุฏูู">ุตูุฏูู</option>
                            <option value="ุญุฒูุฉ">ุญุฒูุฉ</option>
                        </select>
        </div>
        
                    <!-- 6. ุดุฑูุฉ ุงูุดุญู (ุญูู ูุต) -->
                    <div>
                        <label for="shippingCompany">ุดุฑูุฉ ุงูุดุญู *</label>
                        <input type="text" id="shippingCompany" name="shippingCompany" placeholder="ุงูุชุจ ุงุณู ุดุฑูุฉ ุงูุดุญู" required>
                    </div>
        
                    <!-- 7. ูููุง ุงููุตูู -->
                    <div>
                        <label for="arrivalPort">ูููุง ุงููุตูู</label>
                        <input type="text" id="arrivalPort" name="arrivalPort">
    </div>

                    <!-- 8. ุจูุฏ ุงูููุดุฃ -->
                    <div>
                        <label for="originCountry">ุจูุฏ ุงูููุดุฃ</label>
                        <input type="text" id="originCountry" name="originCountry">
            </div>

                    <!-- 9. ููุนุฏ ุงููุตูู -->
                    <div>
                        <label for="arrivalDate">ููุนุฏ ุงููุตูู *</label>
                        <input type="date" id="arrivalDate" name="arrivalDate" required>
                    </div>

                    <!-- 10. ุดุฑูุฉ ุงูุชุฎููุต (ุญูู ูุต) -->
                    <div>
                        <label for="clearanceCompany">ุดุฑูุฉ ุงูุชุฎููุต</label>
                        <input type="text" id="clearanceCompany" name="clearanceCompany" placeholder="ุงูุชุจ ุงุณู ุดุฑูุฉ ุงูุชุฎููุต">
                    </div>

                    <!-- 11. ุญุงูุฉ ุงูุฅูุฑุงุฌ -->
                    <div>
                        <label for="customsStatus">ุญุงูุฉ ุงูุฅูุฑุงุฌ</label>
                        <select id="customsStatus" name="customsStatus">
                            <option value="ูู ุงูุงูุชุธุงุฑ">ูู ุงูุงูุชุธุงุฑ</option>
                            <option value="ุชู ุงูุฅูุฑุงุฌ">ุชู ุงูุฅูุฑุงุฌ</option>
                            <option value="ูุฑููุถ">ูุฑููุถ</option>
                        </select>
                        </div>

                    <!-- 12. ูููุฉ ุงูุญุงููุฉ -->
                    <div>
                        <label for="containerValue">ูููุฉ ุงูุญุงููุฉ ($)</label>
                        <input type="number" id="containerValue" name="containerValue" min="0" step="0.01">
                        </div>

                    <!-- 13. ุฑูู ุงูุญุงููุฉ -->
                    <div>
                        <label for="containerNumber">ุฑูู ุงูุญุงููุฉ</label>
                        <input type="text" id="containerNumber" name="containerNumber">
                    </div>

                    <!-- 14. ุฑูู ุจูููุตุฉ ุงูุดุญู -->
                    <div>
                        <label for="blNumber">ุฑูู ุจูููุตุฉ ุงูุดุญู</label>
                        <input type="text" id="blNumber" name="blNumber">
                        </div>

                    <!-- 15. ุญุงูุฉ ุงูุฏูุน -->
                    <div>
                        <label for="paymentStatus">ุญุงูุฉ ุงูุฏูุน</label>
                        <select id="paymentStatus" name="paymentStatus">
                            <option value="ุบูุฑ ูุฏููุน">ุบูุฑ ูุฏููุน</option>
                            <option value="ูุฏููุน">ูุฏููุน</option>
                            <option value="ูู ุงูุชุธุงุฑ ุงูุฏูุน">ูู ุงูุชุธุงุฑ ุงูุฏูุน</option>
                        </select>
                        </div>

                    <!-- 16. ููุนุฏ ุงูุฏูุน -->
                    <div>
                        <label for="paymentDate">ููุนุฏ ุงูุฏูุน</label>
                        <input type="date" id="paymentDate" name="paymentDate">
                    </div>

                    <!-- 17. ููุนุฏ ุทูุจ ุงูุฅูุฑุงุฌ ุงูุฌูุฑูู -->
                    <div>
                        <label for="customsRequestDate">ููุนุฏ ุทูุจ ุงูุฅูุฑุงุฌ ุงูุฌูุฑูู</label>
                        <input type="date" id="customsRequestDate" name="customsRequestDate">
                    </div>

                    <!-- 18. ูุฒู ุงูุญุงููุฉ -->
                    <div>
                        <label for="containerWeight">ูุฒู ุงูุญุงููุฉ (ูุบ)</label>
                        <input type="number" id="containerWeight" name="containerWeight" min="0" step="0.01">
            </div>

                    <!-- 19. ุงูุญุงูุฉ ุงูุนุงูุฉ -->
                    <div>
                        <label for="status">ุงูุญุงูุฉ ุงูุนุงูุฉ</label>
                        <select id="status" name="status">
                            <option value="ุชู ุชุฃููุฏ ุงูุทูุจ">ุชู ุชุฃููุฏ ุงูุทูุจ</option>
                            <option value="ุชู ุงูุดุญู">ุชู ุงูุดุญู</option>
                            <option value="ูู ุงูุชุธุงุฑ ุชุฎููุต ุงูุฌูุฑูู">ูู ุงูุชุธุงุฑ ุชุฎููุต ุงูุฌูุฑูู</option>
                            <option value="ุชู ุงูุงุณุชูุงู">ุชู ุงูุงุณุชูุงู</option>
                        </select>
                    </div>
                
                    <!-- 20. ููุงุญุธุงุช -->
                    <div class="full-width">
                        <label for="notes">ููุงุญุธุงุช</label>
                        <textarea id="notes" name="notes" rows="3"></textarea>
                    </div>

                    <!-- 21. ุงููุณุชูุฏุงุช -->
                    <div class="documents-upload full-width">
                        <label>ุงููุณุชูุฏุงุช ุงููุทููุจุฉ</label>
                        <div class="documents-grid">
                            <div class="document-box" data-type="invoice">
                                <i class="fas fa-file-invoice"></i>
                                <span>ุงููุงุชูุฑุฉ</span>
                                <input type="file" class="file-input" accept=".pdf,.jpg,.jpeg,.png">
                                <div class="upload-status"></div>
                            </div>
                            <div class="document-box" data-type="certificate">
                                <i class="fas fa-certificate"></i>
                                <span>ุดูุงุฏุฉ ุงูููุดุฃ</span>
                                <input type="file" class="file-input" accept=".pdf,.jpg,.jpeg,.png">
                                <div class="upload-status"></div>
                            </div>
                            <div class="document-box" data-type="policy">
                                <i class="fas fa-file-contract"></i>
                                <span>ุงูุจูููุตุฉ</span>
                                <input type="file" class="file-input" accept=".pdf,.jpg,.jpeg,.png">
                                <div class="upload-status"></div>
                        </div>
                            <div class="document-box" data-type="packingList">
                                <i class="fas fa-list-alt"></i>
                                <span>ูุงุฆูุฉ ุงูุชุนุจุฆุฉ</span>
                                <input type="file" class="file-input" accept=".pdf,.jpg,.jpeg,.png">
                                <div class="upload-status"></div>
                            </div>
                            </div>
                    </div>

                    <button type="submit" id="submitShipment">ุญูุธ ุงูุดุญูุฉ</button>
                </form>
                            </div>
                    </div>

        <!-- (ุชู ููู ูุงูุฐุฉ ุชูุงุตูู ุงูุดุญูุฉ ุฅูู ุฎุงุฑุฌ ุงูุชุจููุจุงุช ูุชููู ุนุงูููุฉ) -->
                </div>


    <!-- ูุณู ุดุฑูุงุช ุงูุชุฎููุต -->
    <div id="clearanceCompaniesSection" class="tab-content hidden">
        <h1>ุฅุฏุงุฑุฉ ุดุฑูุงุช ุงูุชุฎููุต</h1>
        <div class="controls-container">
            <button id="addClearanceCompanyBtn" class="primary-btn">ุฅุถุงูุฉ ุดุฑูุฉ ุชุฎููุต ุฌุฏูุฏุฉ</button>
            <button id="removeDuplicatesBtn" class="secondary-btn">ุญุฐู ุงูุจูุงูุงุช ุงููุชูุฑุฑุฉ</button>
            
            <div class="search-filters">
                <input type="text" id="clearanceCompanySearch" placeholder="ุจุญุซ ุนู ุดุฑูุงุช ุงูุชุฎููุต...">
                    </div>
                </div>

        <div class="table-container">
            <table id="clearanceCompaniesTable">
                <thead>
                    <tr>
                        <th>ุงุณู ุงูุดุฑูุฉ</th>
                        <th>ุฑูู ุงููุงุชู</th>
                        <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                        <th>WhatsApp</th>
                        <th>WeChat</th>
                        <th>ุงูุนููุงู</th>
                        <th>ุงูุฅุฌุฑุงุกุงุช</th>
                    </tr>
                </thead>
                <tbody id="clearanceCompaniesTableBody"></tbody>
            </table>
                    </div>
                </div>



    <!-- ุชุญุฏูุซ ูุณู ููุญุฉ ุงููุนูููุงุช -->
    
    <!-- ูุงูุฐุฉ ุชูุงุตูู ุงูุดุญูุฉ (ุนุงูููุฉ ุฎุงุฑุฌ ุฌููุน ุงูุชุจููุจุงุช) -->
    <div id="shipmentDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeDetailsModal()">&times;</span>
            <div id="shipmentDetailsContent"></div>
        </div>
    </div>
    <div id="dashboardSection" class="tab-content">
        <div class="dashboard-container">
            <!-- ูุณู ุงูุดุญูุงุช ุงููุงุฏูุฉ -->
            <div class="upcoming-shipments-section">
                <div class="section-header-mobile">
                    <h3 class="upcoming-title">ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุดุญูุงุช ุงููุงุฏูุฉ</h3>
                    <button class="filter-icon-btn" title="ุฎูุงุฑุงุช">
                        <i class="fas fa-sliders-h"></i>
                    </button>
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-range="all">ุงููู</button>
                    <button class="filter-btn" data-range="7">ูุฐุง ุงูุฃุณุจูุน</button>
                    <button class="filter-btn" data-range="14">ุงูุฃุณุจูุนูู ุงููุงุฏููู</button>
                    <button class="filter-btn" data-range="30">ูุฐุง ุงูุดูุฑ</button>
                </div>
                <div class="shipments-grid" id="upcomingShipmentsGrid"></div>
            </div>

            <!-- ูุณู ุงูุชูุตูุงุช ุงูุฐููุฉ -->
            <div class="smart-recommendations-section">
                <div class="section-header-mobile">
                    <h3>ุชูุตูุงุช ุฐููุฉ</h3>
                        </div>
                <div class="recommendations-grid" id="recommendationsGrid">
                    <div class="recommendation-card">
                        <div class="recommendation-content">
                            <h4>ุชุญุณูู ูุณุงุฑ ุงูุดุญู</h4>
                            <p>ุงูุชุฑุงุญ ูุณุงุฑ ุจุฏูู ูุชูููู ุงูุชูุงููู ุจูุณุจุฉ 15%.</p>
                            </div>
                        <div class="recommendation-actions">
                            <button class="recommendation-btn">ุนุฑุถ ุงูุชูุงุตูู</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    <!-- ุดุฑูุท ุงูุชููู ุงูุณููู -->
    <div class="bottom-navigation">
        <button class="nav-item active" data-tab="dashboard">
            <i class="fas fa-home"></i>
            <span>ุงูุฑุฆูุณูุฉ</span>
            </button>
        <button class="nav-item" data-tab="shipments">
                                <i class="fas fa-ship"></i>
            <span>ุงูุดุญูุงุช</span>
                        </button>
    </div>

    <!-- ุฅุถุงูุฉ ููุญุฉ ุชุญูู ุงูุฅุดุนุงุฑุงุช -->
    <div id="notificationsPanel" class="notifications-panel hidden">
        <div class="notifications-header">
            <h3>ุงูุฅุดุนุงุฑุงุช</h3>
            <div class="notifications-controls">
                <button id="markAllRead" class="secondary-btn">
                    <i class="fas fa-check-double"></i>
                    ุชุนููู ุงููู ูููุฑูุก
                </button>
                <button id="clearAllNotifications" class="secondary-btn">
                    <i class="fas fa-trash"></i>
                    ูุณุญ ุงููู
                </button>
                <button id="notificationsSettings" class="secondary-btn">
                    <i class="fas fa-cog"></i>
                    ุงูุฅุนุฏุงุฏุงุช
                </button>
            </div>
        </div>
        <div class="notifications-filters">
            <button class="filter-btn active" data-filter="all">ุงููู</button>
            <button class="filter-btn" data-filter="shipments">ุงูุดุญูุงุช</button>
        </div>
        <div class="notifications-list" id="notificationsList">        </div>






    <!-- ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช -->
    <div id="notificationsSettingsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช</h2>
            <form id="notificationsSettingsForm">
                <div class="settings-group">
                    <h3>ุงูุฅุดุนุงุฑุงุช ุงูุตูุชูุฉ</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableSoundNotifications" checked>
                            ุชูุนูู ุงูุฅุดุนุงุฑุงุช ุงูุตูุชูุฉ
                        </label>
                        <select id="notificationSound" class="sound-select">
                            <option value="default">ุงูุตูุช ุงูุงูุชุฑุงุถู</option>
                            <option value="bell">ุฌุฑุณ</option>
                            <option value="chime">ูุบูุฉ</option>
                            <option value="alert">ุชูุจูู</option>
                        </select>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>ุฅุดุนุงุฑุงุช ุณุทุญ ุงูููุชุจ</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableDesktopNotifications">
                            ุชูุนูู ุฅุดุนุงุฑุงุช ุณุทุญ ุงูููุชุจ
                        </label>
                        <button type="button" id="requestNotificationPermission" class="secondary-btn">
                            ุทูุจ ุงูุฅุฐู
                        </button>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>ุฅุดุนุงุฑุงุช WhatsApp</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="enableWhatsAppNotifications">
                            ุชูุนูู ุฅุดุนุงุฑุงุช WhatsApp
                        </label>
                        <input type="tel" id="whatsappNumber" placeholder="ุฑูู WhatsApp (ูุซุงู: 963XXXXXXXX)" pattern="[0-9]+">
                        <div class="whatsapp-status" id="whatsappStatus"></div>
                    </div>
                </div>

                <div class="settings-group">
                    <h3>ุฃููุงุน ุงูุฅุดุนุงุฑุงุช</h3>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="notifyNewOrders" checked>
                            ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ
                        </label>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="notifyShipments" checked>
                            ุฅุดุนุงุฑุงุช ุงูุดุญูุงุช
                        </label>
                    </div>
                </div>

                <button type="submit" class="primary-btn">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
            </form>
        </div>
    </div>



    <!-- ูููุฐุฌ ุฅุถุงูุฉ ุดุฑูุฉ ุชุฎููุต -->
    <div id="clearanceCompanyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeClearanceCompanyModal()">&times;</span>
            <h2 id="clearanceCompanyModalTitle">ุฅุถุงูุฉ ุดุฑูุฉ ุชุฎููุต ุฌุฏูุฏุฉ</h2>
            <div style="background: #f0f8ff; padding: 12px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2a7a7b;">
                <p style="margin: 0; font-size: 0.9rem; color: #2a7a7b;">
                    <i class="fas fa-info-circle"></i> 
                    <strong>ููุงุญุธุฉ:</strong> ููููู ุฅุถุงูุฉ ุฑูู ูุฑุฏู ุฃู ุฑุงุจุท ูุฌููุนุฉ ุฃู ูููููุง. ุณูุชู ุงุณุชุฎุฏุงู ุงููุฌููุนุฉ ูุฃููููุฉ ุนูุฏ ุงูุฅุฑุณุงู.
                </p>
            </div>
            <form id="clearanceCompanyForm">
                <div class="form-group">
                    <label for="companyName">ุงุณู ุงูุดุฑูุฉ</label>
                    <input type="text" id="companyName" required>
                </div>
                
                <div class="form-group">
                    <label for="companyPhone">ุฑูู ุงููุงุชู</label>
                    <input type="tel" id="companyPhone" required>
                </div>
                
                <div class="form-group">
                    <label for="companyEmail">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                    <input type="email" id="companyEmail">
                </div>
                
                <div class="form-group">
                    <label for="companyWhatsApp">ุฑูู WhatsApp ุงููุฑุฏู</label>
                    <input type="tel" id="companyWhatsApp" placeholder="ูุซุงู: +966501234567">
                </div>
                
                <div class="form-group">
                    <label for="companyWhatsAppGroup">ุฑุงุจุท ูุฌููุนุฉ WhatsApp</label>
                    <input type="url" id="companyWhatsAppGroup" placeholder="ูุซุงู: https://chat.whatsapp.com/XXXXXXXXX">
                    <small style="color: #666; font-size: 0.8rem; margin-top: 5px; display: block;">
                        ๐ก ููุญุตูู ุนูู ุงูุฑุงุจุท: ุงูุชุญ ุงููุฌููุนุฉ โ ุงููุฒูุฏ (โฎ) โ ูุนูููุงุช ุงููุฌููุนุฉ โ ุฏุนูุฉ ุนุจุฑ ุฑุงุจุท
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="companyWeChat">ุฑูู WeChat ุงููุฑุฏู</label>
                    <input type="text" id="companyWeChat" placeholder="ูุซุงู: wechat_id">
                </div>
                
                <div class="form-group">
                    <label for="companyWeChatGroup">ุฑุงุจุท ูุฌููุนุฉ WeChat</label>
                    <input type="url" id="companyWeChatGroup" placeholder="ูุซุงู: https://work.weixin.qq.com/XXX">
                    <small style="color: #666; font-size: 0.8rem; margin-top: 5px; display: block;">
                        ๐ก ููุญุตูู ุนูู ุงูุฑุงุจุท: ุงูุชุญ ุงููุฌููุนุฉ โ ุชูุงุตูู ุงููุฌููุนุฉ โ ูุดุงุฑูุฉ โ ูุณุฎ ุงูุฑุงุจุท
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="companyAddress">ุงูุนููุงู</label>
                    <textarea id="companyAddress" rows="3"></textarea>
                </div>
                
                <button type="submit" class="primary-btn">ุญูุธ</button>
            </form>
        </div>
    </div>

    <!-- Material Design Interactions -->
    <script src="material-interactions.js"></script>
    
    <!-- Main App Script (ูุฌุจ ุฃู ูุญูู ุฃููุงู) -->
    <script src="app.js"></script>
    
    <!-- UI Enhancements -->
    <script src="ui-enhancements.js"></script>
    
    <!-- UX/UI Improvements -->
    <script src="ux-improvements.js"></script>
    
    <!-- Advanced Notifications (ุจุนุฏ app.js) -->
    <script src="notifications-advanced.js"></script>
</body>
</html>